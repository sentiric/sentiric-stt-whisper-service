<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sentiric Omni-Studio Pro</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ™ï¸</text></svg>">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">

<div class="app-layout">
    
    <!-- MOBILE HEADER (Sadece mobilde gÃ¶rÃ¼nÃ¼r) -->
    <header class="mobile-top-bar">
        <button class="icon-btn ghost" id="menuToggle"><i class="fas fa-bars"></i></button>
        <div class="brand-center">SENTIRIC <span class="badge">PRO</span></div>
        <button class="icon-btn ghost" id="telemetryToggle"><i class="fas fa-chart-pie"></i></button>
    </header>

    <!-- LEFT SIDEBAR: CONFIG -->
    <aside class="sidebar left" id="leftSidebar">
        <div class="sidebar-header">
            <div class="brand">
                <div class="brand-icon"><i class="fas fa-wave-square"></i></div>
                <div class="brand-text">
                    <span>SENTIRIC</span>
                    <span class="ver">v2.2.1</span>
                </div>
            </div>
            <button class="close-sidebar mobile-only"><i class="fas fa-times"></i></button>
        </div>

        <div class="sidebar-scroll">
            <!-- Temel Ayarlar -->
            <div class="config-section">
                <label class="section-label">GÄ°RÄ°Å & DÄ°L</label>
                <div class="input-group">
                    <i class="fas fa-globe input-icon"></i>
                    <select id="langSelect">
                        <option value="auto">âœ¨ Otomatik AlgÄ±la</option>
                        <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
                        <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <i class="fas fa-magic input-icon"></i>
                    <textarea id="promptInput" placeholder="BaÄŸlam / Prompt (Ã–rn: Sentiric, TÄ±bbi terimler...)"></textarea>
                </div>
            </div>

            <div class="config-section">
                <label class="section-label">Ã–ZELLÄ°KLER</label>
                
                <div class="toggle-row">
                    <div class="toggle-info">
                        <span class="name">Ã‡eviri Modu</span>
                        <span class="desc">Ä°ngilizceye Ã§evir</span>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="translateToggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="toggle-row">
                    <div class="toggle-info">
                        <span class="name">KonuÅŸmacÄ± AyrÄ±mÄ±</span>
                        <span class="desc">A/B AyrÄ±ÅŸtÄ±rma (Diarization)</span>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="diarizationToggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <!-- GeliÅŸmiÅŸ Ayarlar (Geri Geldi) -->
            <details class="advanced-settings">
                <summary>GELÄ°ÅMÄ°Å MOTOR AYARLARI <i class="fas fa-chevron-down"></i></summary>
                
                <div class="slider-group">
                    <div class="slider-header">
                        <span>YaratÄ±cÄ±lÄ±k (Temp)</span>
                        <span id="tempVal">0.0</span>
                    </div>
                    <input type="range" id="tempRange" min="0" max="1" step="0.1" value="0">
                </div>

                <div class="slider-group">
                    <div class="slider-header">
                        <span>Kalite (Beam Size)</span>
                        <span id="beamVal">5</span>
                    </div>
                    <input type="range" id="beamRange" min="1" max="10" step="1" value="5">
                </div>

                <div class="slider-group">
                    <div class="slider-header">
                        <span>VAD Hassasiyeti</span>
                        <span id="vadVal">0.02</span>
                    </div>
                    <input type="range" id="vadRange" min="0.001" max="0.1" step="0.001" value="0.02">
                </div>
            </details>
        </div>

        <div class="sidebar-footer">
            <div class="status-indicator" id="connStatus">
                <div class="dot"></div>
                <span>Sistem HazÄ±r</span>
            </div>
        </div>
    </aside>

    <div class="backdrop" id="backdrop"></div>

    <!-- MAIN STAGE -->
    <main class="stage">
        <!-- Toolbar -->
        <div class="stage-toolbar">
            <div class="toolbar-left">
                <h2 class="session-title"><i class="fas fa-file-alt"></i> CanlÄ± Transkripsiyon</h2>
            </div>
            <div class="toolbar-right">
                <button class="tool-btn" onclick="ui.exportTranscript('json')" title="JSON Ä°ndir">JSON</button>
                <button class="tool-btn" onclick="ui.exportTranscript('txt')" title="TXT Ä°ndir">TXT</button>
                <div class="v-divider"></div>
                <button class="tool-btn danger" onclick="ui.clearChat()" title="Temizle"><i class="fas fa-trash"></i></button>
            </div>
        </div>

        <!-- Transcript Feed -->
        <div id="transcriptContainer" class="transcript-feed">
            <div class="empty-placeholder">
                <div class="icon-circle"><i class="fas fa-microphone-lines"></i></div>
                <h3>Kayda BaÅŸlayÄ±n</h3>
                <p>Yapay zeka destekli anlÄ±k deÅŸifre ve konuÅŸmacÄ± ayrÄ±ÅŸtÄ±rma.</p>
                <div class="shortcut-hint"><i class="fas fa-keyboard"></i> <span>KayÄ±t iÃ§in 'Space' tuÅŸuna basÄ±n</span></div>
            </div>
        </div>

        <!-- Floating Control Dock -->
        <div class="control-dock-wrapper">
            <div class="control-dock">
                <!-- Arkaplan Visualizer -->
                <canvas id="visualizerCanvas"></canvas>
                
                <div class="dock-actions">
                    <input type="file" id="fileInput" hidden accept="audio/*">
                    <button class="dock-btn secondary" onclick="$('fileInput').click()" title="Dosya YÃ¼kle">
                        <i class="fas fa-folder-open"></i>
                    </button>

                    <div class="record-container">
                        <button id="recordBtn" class="record-fab">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <div class="record-timer" id="recordTimer">00:00</div>
                    </div>

                    <button class="dock-btn secondary" id="handsFreeToggleBtn" title="Otomatik KayÄ±t (VAD)">
                        <i class="fas fa-robot"></i>
                        <span class="status-dot"></span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- RIGHT SIDEBAR: METRICS (SADELEÅTÄ°RÄ°LDÄ°) -->
    <aside class="sidebar right" id="rightSidebar">
        <div class="sidebar-header">
            <h3>Analiz Ã–zeti</h3>
            <button class="close-sidebar mobile-only"><i class="fas fa-times"></i></button>
        </div>
        <div class="sidebar-scroll">
            
            <div class="stat-card main">
                <div class="stat-label">Ä°ÅLEM PERFORMANSI</div>
                <div class="stat-value highlight" id="rtfVal">--</div>
                <div class="stat-desc">RTF (Real-Time Factor)</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">SES SÃœRESÄ°</div>
                    <div class="stat-value" id="durVal">0s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ä°ÅLEM SÃœRESÄ°</div>
                    <div class="stat-value" id="procVal">0s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">GÃœVEN SKORU</div>
                    <div class="stat-value" id="confVal">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">DÄ°L</div>
                    <div class="stat-value" id="langVal">--</div>
                </div>
            </div>

            <!-- Debug Butonu (JSON'Ä± gizledik) -->
            <div class="debug-section">
                <button class="debug-btn" onclick="ui.toggleDebugJson()">
                    <i class="fas fa-code"></i> Ham JSON Verisini GÃ¶ster
                </button>
                <pre id="jsonLog" class="json-log hidden">{}</pre>
            </div>
        </div>
    </aside>

</div>

<script src="app.js"></script>
</body>
</html>