<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sentiric Omni-Studio v2</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ§</text></svg>">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">

<div class="app-container">
    
    <!-- MOBILE HEADER -->
    <header class="mobile-header">
        <div class="brand">
            <i class="fas fa-wave-square"></i>
            <span>SENTIRIC</span>
        </div>
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <!-- SOL PANEL: AYARLAR (COCKPIT) -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="brand">
                <i class="fas fa-wave-square"></i>
                <span>SENTIRIC STT</span>
                <span class="badge">PRO v2.2</span>
            </div>
            <button class="close-menu" id="closeMenu"><i class="fas fa-times"></i></button>
        </div>

        <div class="sidebar-content">
            <!-- TEMEL AYARLAR -->
            <div class="section-title">TEMEL PARAMETRELER</div>
            
            <div class="group">
                <label class="group-label">Hedef Dil</label>
                <div class="select-wrapper">
                    <select id="langSelect" class="select-box">
                        <option value="auto">âœ¨ Otomatik AlgÄ±la</option>
                        <option value="tr">ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e</option>
                        <option value="en">ðŸ‡ºðŸ‡¸ English</option>
                        <option value="de">ðŸ‡©ðŸ‡ª Deutsch</option>
                        <option value="fr">ðŸ‡«ðŸ‡· FranÃ§ais</option>
                        <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
                    </select>
                    <i class="fas fa-chevron-down select-icon"></i>
                </div>
            </div>

            <div class="group">
                <label class="group-label">BaÄŸlam / Prompt</label>
                <textarea id="promptInput" class="text-area" placeholder="Ã–rn: Sentiric, AltyazÄ± yok, TÄ±bbi terimler..."></textarea>
            </div>

            <div class="group checkbox-group">
                <label class="switch-label">
                    <span>Ä°ngilizceye Ã‡evir (Translate)</span>
                    <label class="switch">
                        <input type="checkbox" id="translateToggle">
                        <span class="slider"></span>
                    </label>
                </label>
            </div>

            <div class="group checkbox-group">
                <label class="switch-label">
                    <span>KonuÅŸmacÄ± AyrÄ±mÄ± (Diarization)</span>
                    <label class="switch">
                        <input type="checkbox" id="diarizationToggle">
                        <span class="slider"></span>
                    </label>
                </label>
            </div>

            <!-- GELÄ°ÅžMÄ°Åž AYARLAR (ACCORDION) -->
            <details class="advanced-details">
                <summary>GELÄ°ÅžMÄ°Åž MOTOR AYARLARI</summary>
                
                <div class="group">
                    <label class="group-label">Temperature (YaratÄ±cÄ±lÄ±k): <span id="tempVal">0.0</span></label>
                    <input type="range" id="tempRange" min="0.0" max="1.0" step="0.1" value="0.0">
                    <div class="range-meta"><span>Kesin (0.0)</span><span>Rastgele (1.0)</span></div>
                </div>

                <div class="group">
                    <label class="group-label">Beam Size (Kalite): <span id="beamVal">Default</span></label>
                    <input type="range" id="beamRange" min="1" max="10" step="1" value="5">
                    <div class="range-meta"><span>HÄ±zlÄ± (1)</span><span>Hassas (10)</span></div>
                </div>

                <div class="group">
                    <label class="group-label">VAD EÅŸiÄŸi: <span id="vadVal">0.02</span></label>
                    <input type="range" id="vadRange" min="0.001" max="0.1" step="0.001" value="0.02">
                    <!-- CanlÄ± VAD Metre -->
                    <div class="vad-meter-container">
                        <div class="vad-bar" id="vadLevel"></div>
                        <div class="vad-threshold" id="vadThresholdLine"></div>
                    </div>
                </div>
            </details>

            <div class="group" style="margin-top: auto;">
                <button class="theme-btn" onclick="ui.toggleTheme()">
                    <i class="fas fa-adjust"></i> Tema DeÄŸiÅŸtir
                </button>
            </div>
        </div>

        <div class="sidebar-footer">
            <div class="connection-status" id="connStatus">
                <div class="indicator"></div>
                <span id="connText">BaÄŸlanÄ±yor...</span>
            </div>
            <div class="ver">Build 2025.11.23</div>
        </div>
    </nav>

    <div class="overlay" id="overlay"></div>

    <!-- ORTA PANEL: WORKSTATION -->
    <main class="stage">
        <header class="stage-header">
            <div class="model-info">
                <span class="model-name">WHISPER CPP v1.8.2</span>
                <span class="model-meta" id="modelMeta">--</span>
            </div>
            
            <div class="actions">
                <button class="icon-btn" onclick="ui.exportTranscript('json')" title="JSON Ä°ndir">JSON</button>
                <button class="icon-btn" onclick="ui.exportTranscript('txt')" title="TXT Ä°ndir">TXT</button>
                <button class="icon-btn" onclick="ui.exportTranscript('srt')" title="SRT Ä°ndir">SRT</button>
                <div class="divider"></div>
                <button class="icon-btn danger" onclick="ui.clearChat()" title="Temizle"><i class="fas fa-trash-alt"></i></button>
            </div>
        </header>

        <!-- KonuÅŸma BalonlarÄ± AlanÄ± -->
        <div id="transcriptHistory" class="transcript-history">
            <div class="empty-state">
                <div class="empty-icon"><i class="fas fa-microphone-alt"></i></div>
                <h1>Omni-Studio HazÄ±r</h1>
                <p>YÃ¼ksek performanslÄ± transkripsiyon iÃ§in mikrofonu aÃ§Ä±n veya dosya sÃ¼rÃ¼kleyin.</p>
                <div class="shortcuts">
                    <span><i class="fas fa-keyboard"></i> Space: KayÄ±t BaÅŸlat/Durdur</span>
                </div>
            </div>
        </div>

        <!-- Alt Kontrol Dock (Alt Panel) -->
        <div class="control-dock">
            <!-- Audio Visualizer -->
            <canvas id="waveCanvas" width="800" height="80" class="wave-canvas"></canvas>

            <div class="dock-controls">
                <input type="file" id="fileInput" hidden accept="audio/*">
                
                <button class="dock-btn secondary" onclick="$('fileInput').click()" title="Dosya YÃ¼kle">
                    <i class="fas fa-folder-open"></i> <span class="hide-mobile">Dosya</span>
                </button>

                <div class="record-wrapper">
                    <button class="record-btn" id="recordBtn">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <div class="rec-status" id="mainStatus">BEKLEMEDE</div>
                </div>

                <div class="hands-free-wrapper">
                    <label class="switch-label column">
                        <span class="tiny-label">AUTO-REC</span>
                        <label class="switch small">
                            <input type="checkbox" id="handsFreeToggle">
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
            </div>
        </div>
    </main>

    <!-- SAÄž PANEL: TELEMETRÄ° -->
    <nav class="sidebar right" id="telemetryPanel">
        <div class="sidebar-header">
            <span class="sidebar-title"><i class="fas fa-chart-line"></i> TELEMETRÄ°</span>
        </div>
        <div class="sidebar-content">
            
            <div class="dashboard-grid">
                <div class="dash-card">
                    <label>SES SÃœRESÄ°</label>
                    <div class="value" id="metaDuration">0.00s</div>
                </div>
                <div class="dash-card">
                    <label>Ä°ÅžLEM SÃœRESÄ°</label>
                    <div class="value" id="metaProcess">0.00s</div>
                </div>
                <div class="dash-card full">
                    <label>PERFORMANS (RTF)</label>
                    <div class="value highlight" id="metaSpeed">--</div>
                    <div class="sub-value">Real-Time Factor</div>
                </div>
            </div>

            <div class="info-box">
                <div class="info-row">
                    <span>Sample Rate:</span> <span id="metaSR">--</span>
                </div>
                <div class="info-row">
                    <span>Channels:</span> <span id="metaChan">--</span>
                </div>
            </div>

            <div class="group">
                <label class="group-label">HAM JSON Ã‡IKTISI</label>
                <pre id="jsonLog" class="json-log">{}</pre>
            </div>
        </div>
    </nav>

</div>

<script src="app.js"></script>
</body>
</html>